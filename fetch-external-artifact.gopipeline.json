{
   "target_version" : 3,
   "name":"Fetch-External-Artifact-From-Main-Pipeline",
   "environment_variables":[

   ],
   "group":"group1",
   "materials":[
      {
         "type":"git",
         "url":"http://github.com/rajiesh/self-express.git",
         "name":"material-name",
         "destination":"dest"
      },
      {
         "pipeline":"asdf",
         "stage":"defaultStage",
         "name":"main-repo",
         "type":"dependency"
      }
   ],
   "stages":[
      {
         "name":"testStage",
         "fetch_materials":true,
         "never_cleanup_artifacts":false,
         "clean_working_directory":false,
         "environment_variables":[

         ],
         "jobs":[
            {
               "name":"build",
               "environment_variables":[

               ],
               "tabs":[

               ],
               "resources":[

               ],
               "artifacts":[
                  {
                            "type": "external",
                            "id": "asdf",
                            "store_id": "asdf",
                            "configuration": [
                                {
                                    "key": "BuildFile"
                                },
                                {
                                    "key": "Image",
                                    "value": "localhost:5000/centos"
                                },
                                {
                                    "key": "Tag",
                                    "value": "7"
                                }
                            ]
                        }

               ],
               "properties":[

               ],
               "run_instance_count":null,
               "timeout":0,
               "tasks":[
                  {
                     "type":"exec",
                     "run_if":"passed",
                     "on_cancel":null,
                     "command":"mvn",
                     "arguments":[
                        "-version"
                     ],
                     "working_directory":null
                  },{  
                     "type":"fetch",
                     "artifact_origin": "external",
                     "pipeline":"asdf",
                     "stage":"defaultStage",
                     "job":"defaultJob",
                     "run_if": "any",
                     "artifact_id":"asdf",
                     "configuration":[  

                     ]
                  }
               ]
            }
         ]
      }
   ]
}
